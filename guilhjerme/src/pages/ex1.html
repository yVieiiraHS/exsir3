<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exercício 1</title>
  </head>
  <body>
    <h2>Exercício 1:</h2>
    <p>CEP: <input type="text" id="cep" /></p>
    <button onclick="buscarCep(cep.value)">Buscar</button>
    <p>Rua: <input type="text" id="rua" /></p>
    <p>Complemento: <input type="text" id="complemento" /></p>
    <p>Bairro: <input type="text" id="bairro" /></p>
    <p>Localidade: <input type="text" id="localidade" /></p>
    <p>UF: <input type="text" id="uf" /></p>
    <p>IBGE: <input type="text" id="ibge" /></p>
    <p>GIA: <input type="text" id="gia" /></p>
    <p>DDD: <input type="text" id="ddd" /></p>
    <p>SIAFI: <input type="text" id="siafi" /></p>


    <script>
      function buscarCep(cep) {
        const url = `https://viacep.com.br/ws/${cep}/json/`;
        fetch(url)
          .then((response) => response.json())
          .then((data) => preencherCep(data))
          .catch((error) => alert(error));
        console.log("URL: " + url);
      }

      function preencherCep(data) {
        document.getElementById("rua").value = data.logradouro;
        document.getElementById("complemento").value = data.complemento;
        document.getElementById("bairro").value = data.bairro;
        document.getElementById("localidade").value = data.localidade;
        document.getElementById("uf").value = data.uf;
        document.getElementById("ibge").value = data.ibge;
        document.getElementById("gia").value = data.gia;
        document.getElementById("ddd").value = data.ddd;
        document.getElementById("siafi").value = data.siafi;
        console.log(data);
      }
    </script>
  </body>
</html>
